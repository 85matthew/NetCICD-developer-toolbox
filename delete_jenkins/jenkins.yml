credentials:
  system:
    domainCredentials:
      - credentials:
        - fileSystemServiceAccountCredential:
            id: "1a12dfa4-7fc5-47a7-aa17-cc56572a41c7"
            scope: GLOBAL
        - usernamePassword:
            description: "Credentials to start simulation in VIRL/CML"
            id: "CML-SIM-CRED"
            password: ${CML_PASSWORD}
            scope: GLOBAL
            username: ${CML_USER}
        - usernamePassword:
            description: "Credentials to be used to log into Jenkins and create agents.\
              \ Username is netcicd, password is ADMIN TOKEN!"
            id: "Jenkins-SIM"
            password: ${JENKINS_AGENT_CREATOR_KEY}
            scope: GLOBAL
            username: ${JENKINS_AGENT_CREATOR}
        - usernamePassword:
            description: "Credentials to be used to log into Gitea from Jenkins to retrieve\
              \ the NetCICD repo."
            id: "git-jenkins"
            password: ${GIT_JENKINS_PASSWORD}
            scope: GLOBAL
            username: "git-jenkins"
        - usernamePassword:
            description: "Credentials to be used to log into Nexus from Jenkins"
            id: "nexus-jenkins"
            password: ${NEXUS_JENKINS_PASSWORD}
            scope: GLOBAL
            username: "nexus-jenkins"
        - usernamePassword:
            description: "Credentials to be used to log into Argos from Jenkins"
            id: "argos-jenkins"
            password: ${ARGOS_JENKINS_PASSWORD}
            scope: GLOBAL
            username: "argos-jenkins"
jenkins:
  agentProtocols:
    - "JNLP4-connect"
    - "Ping"
  authorizationStrategy:
    globalMatrix:
      permissions:
        - "Agent/Build:admin"
        - "Agent/Configure:admin"
        - "Agent/Configure:labadmin-admin-edit-view"
        - "Agent/Connect:admin"
        - "Agent/Create:admin"
        - "Agent/Delete:admin"
        - "Agent/Delete:labadmin-admin-edit-view"
        - "Agent/Disconnect:admin"
        - "Agent/ExtendedRead:admin"
        - "Agent/Provision:admin"
        - "Credentials/Create:admin"
        - "Credentials/Create:labadmin-admin-edit-view"
        - "Credentials/Delete:admin"
        - "Credentials/Delete:labadmin-admin-edit-view"
        - "Credentials/ManageDomains:admin"
        - "Credentials/ManageDomains:labadmin-admin-edit-view"
        - "Credentials/Update:admin"
        - "Credentials/Update:labadmin-admin-edit-view"
        - "Credentials/UseItem:admin"
        - "Credentials/UseOwn:admin"
        - "Credentials/View:admin"
        - "Credentials/View:labadmin-admin-edit-view"
        - "Job/Build:admin"
        - "Job/Build:labadmin-admin-edit-view"
        - "Job/Cancel:admin"
        - "Job/Cancel:labadmin-admin-edit-view"
        - "Job/Configure:admin"
        - "Job/Configure:labadmin-admin-edit-view"
        - "Job/Create:admin"
        - "Job/Create:labadmin-admin-edit-view"
        - "Job/Delete:admin"
        - "Job/Delete:labadmin-admin-edit-view"
        - "Job/Discover:admin"
        - "Job/Discover:labadmin-admin-edit-view"
        - "Job/ExtendedRead:admin"
        - "Job/Move:admin"
        - "Job/Read:admin"
        - "Job/Read:labadmin-admin-edit-view"
        - "Job/Workspace:admin"
        - "Job/Workspace:labadmin-admin-edit-view"
        - "Lockable Resources/Reserve:admin"
        - "Lockable Resources/Unlock:admin"
        - "Lockable Resources/View:admin"
        - "Metrics/HealthCheck:admin"
        - "Metrics/ThreadDump:admin"
        - "Metrics/View:admin"
#        - "N/A/FullControl:admin"
#        - "N/A/GenericConfigure:admin"
#        - "N/A/GenericCreate:admin"
#        - "N/A/GenericDelete:admin"
#        - "N/A/GenericRead:admin"
#        - "N/A/GenericUpdate:admin"
#        - "N/A/GenericWrite:admin"
        - "Overall/Administer:admin"
        - "Overall/Administer:labadmin-admin-edit-view"
        - "Overall/ConfigureUpdateCenter:admin"
        - "Overall/Manage:admin"
        - "Overall/Read:admin"
        - "Overall/Read:labadmin-admin-edit-view"
        - "Overall/RunScripts:admin"
        - "Overall/RunScripts:labadmin-admin-edit-view"
        - "Overall/SystemRead:admin"
        - "Overall/UploadPlugins:admin"
        - "Run/Delete:admin"
        - "Run/Delete:labadmin-admin-edit-view"
        - "Run/Replay:admin"
        - "Run/Update:admin"
        - "Run/Update:labadmin-admin-edit-view"
        - "SCM/Tag:admin"
        - "SCM/Tag:labadmin-admin-edit-view"
        - "View/Configure:admin"
        - "View/Configure:labadmin-admin-edit-view"
        - "View/Create:admin"
        - "View/Create:labadmin-admin-edit-view"
        - "View/Delete:admin"
        - "View/Delete:labadmin-admin-edit-view"
        - "View/Read:admin"
  clouds:
    - kubernetes:
        addMasterProxyEnvVars: true
        containerCapStr: "100"
        credentialsId: "1a12dfa4-7fc5-47a7-aa17-cc56572a41c7"
        jenkinsTunnel: "172.25.4.115:50000"
        jenkinsUrl: "http://172.25.204.131:8080"
        maxRequestsPerHostStr: "32"
        name: "openshift"
        namespace: "jenkins-operator-system"
        serverCertificate: |-
          -----BEGIN CERTIFICATE-----
          MIIDMjCCAhqgAwIBAgIIC4yFYUPp/78wDQYJKoZIhvcNAQELBQAwNzESMBAGA1UE
          CxMJb3BlbnNoaWZ0MSEwHwYDVQQDExhrdWJlLWFwaXNlcnZlci1sYi1zaWduZXIw
          HhcNMjAxMjAzMTIwMDE1WhcNMzAxMjAxMTIwMDE1WjA3MRIwEAYDVQQLEwlvcGVu
          c2hpZnQxITAfBgNVBAMTGGt1YmUtYXBpc2VydmVyLWxiLXNpZ25lcjCCASIwDQYJ
          KoZIhvcNAQEBBQADggEPADCCAQoCggEBAOUWPivRK7aYmUMG94uI35jWPpUeaz9t
          46fxcvUHgduH96bYGBN/oBLQH096nxTfHDnlZtIMhjU/rtcx5bAbLRDI1RP/y5E2
          4i2BYD2dovD7rzL1K5NjNkwHGn51RrNM5sVmCw/Hn+RypKgrMb+7KAveuGxbqfnl
          WRDojm49BcLopZTQHw73rbSQ9wKHodPakcx9hd0+xBXs51lyup/9+MTDfNvlahzl
          ebxVVeDWesm/jcw7ZLl3TLkKwXYhzMOJ7fqiqCUqSAx2B4j0B+HSoHJnMkzimfy2
          HY93Rjp/fl6X27nG/EzonOW3COw1rXl0mZYm6nxpRAAyBDphb0Iu3bMCAwEAAaNC
          MEAwDgYDVR0PAQH/BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFNH6
          fDWWrvxXZb/SBnKQCfk0aWvwMA0GCSqGSIb3DQEBCwUAA4IBAQAApZ1RFGxTYnga
          tDO46ThvA6Y5CGEZtIi7KwsGLcnEcdh+iWzSNRbYW00A/H6gXpwbq5D/Mavr5epu
          7Azigbszj6NrdpRP6tSZPmGgtipmZXBlC5eIDL8ulFztr3uC5OHkv6sUecEHmt4V
          F3tdq5IEAQSj5glblLwcqLoB/wSWqqTSwFAYvB99NhDU0piP4mzlTlojU+ej85ag
          MezRB9NDEYUkzxuXHvfYWKaX3zFO3FEQ+5iDcaax4TGxEvxKtz/NcoMIlFT/MffA
          0wmPgmw1i1QVYVJRbFTTTXQxtlPZ8gipORcEwmVAxfJpmJuMplAFezh5fnpdXlt+
          EvW7V8S2
          -----END CERTIFICATE-----
        serverUrl: "https://172.25.0.1:443"
        templates:
          - containers:
              - alwaysPullImage: true
                args: "^${computer.jnlpmac} ^${computer.name}"
                image: "image-registry.openshift-image-registry.svc:5000/openshift/jenkins-agent-maven:latest"
                name: "jnlp"
                workingDir: "/tmp"
            label: "maven"
            name: "maven"
            serviceAccount: "jenkins-netcicd"
            slaveConnectTimeoutStr: "0"
            yamlMergeStrategy: "override"
          - containers:
              - alwaysPullImage: true
                args: "^${computer.jnlpmac} ^${computer.name}"
                image: "image-registry.openshift-image-registry.svc:5000/openshift/jenkins-agent-nodejs:latest"
                name: "jnlp"
                workingDir: "/tmp"
            label: "nodejs"
            name: "nodejs"
            serviceAccount: "jenkins-netcicd"
            slaveConnectTimeoutStr: "0"
            yamlMergeStrategy: "override"
  disableRememberMe: false
  globalNodeProperties:
    - envVars:
        env:
          - key: "CML_URL"
            value: "http://192.168.0.57"
  labelAtoms:
    - name: "master"
    - name: "jenkins_node"
  markupFormatter: "plainText"
  mode: NORMAL
  myViewsTabBar: "standard"
  nodes:
    - permanent:
        launcher:
          jnlp:
            workDirSettings:
              disabled: false
              failIfWorkDirIsMissing: false
              internalDir: "remoting"
        name: "jenkins_node"
        nodeDescription: "Jenkins Worker node"
        remoteFS: "/root/jenkins_slave"
        retentionStrategy: "always"
  noUsageStatistics: true
  numExecutors: 0
  primaryView:
    all:
      name: "all"
  projectNamingStrategy: "standard"
  quietPeriod: 1
  remotingSecurity:
    enabled: true
  scmCheckoutRetryCount: 0
  securityRealm: "openShiftOAuth2"
  slaveAgentPort: 50000
  updateCenter:
    sites:
      - id: "default"
        url: "https://updates.jenkins.io/update-center.json"
  views:
    - all:
        name: "all"
    - list:
        columns:
          - "status"
          - "weather"
          - "jobName"
          - "lastSuccess"
          - "lastFailure"
          - "lastDuration"
          - "buildButton"
          - "favoriteColumn"
        includeRegex: "((?!seed)(?!jenkins).)*"
        name: "non-seed-jobs"
    - list:
        columns:
          - "status"
          - "weather"
          - "jobName"
          - "lastSuccess"
          - "lastFailure"
          - "lastDuration"
          - "buildButton"
          - "favoriteColumn"
        includeRegex: ".*job-dsl-seed.*"
        name: "seed-jobs"
  viewsTabBar: "standard"
jobs:
  - script: >
      multibranchPipelineJob('image-jenkins') {
        branchSources {
          github {
            // The id option in the Git and GitHub branch source contexts is now mandatory (JENKINS-43693).
            id('12312313') // IMPORTANT: use a constant and unique identifier
#            scanCredentialsId('github')
            repoOwner('85matthew')
            repository('NetCICD-developer-toolbox')
          }
        }
        orphanedItemStrategy {
          discardOldItems {
            numToKeep(1)
          }
        }
        triggers {
          periodic(5)
        }
      }

security:
  apiToken:
    creationOfLegacyTokenEnabled: false
    queueItemAuthenticator:
      authenticators:
        - global:
            strategy: triggeringUsersAuthorizationStrategy
      scriptApproval:
        approvedSignatures:
          - "method hudson.slaves.SlaveComputer getJnlpMac"
          - "method jenkins.model.Jenkins getComputer java.lang.String"
          - "staticMethod jenkins.model.Jenkins getInstance"
    tokenGenerationOnCreationEnabled: false
    usageStatisticsEnabled: true
  globalJobDslSecurityConfiguration:
    useScriptSecurity: true
  sSHD:
    port: -1
unclassified:
  bitbucketEndpointConfiguration:
    endpoints:
      - bitbucketCloudEndpoint:
          enableCache: false
          manageHooks: false
          repositoriesCacheDuration: 0
          teamCacheDuration: 0
  buildDiscarders:
    configuredBuildDiscarders:
      - "jobBuildDiscarder"
  defaultFolderConfiguration:
    healthMetrics:
      - worstChildHealthMetric:
          recursive: true
  gitHubConfiguration:
    apiRateLimitChecker: ThrottleForNormalize
  gitHubPluginConfig:
    hookUrl: "https://jenkins-netcicd-jenkins-operator-system.apps-crc.testing/github-webhook/"
  gitSCM:
    createAccountBasedOnEmail: false
    showEntireCommitSummaryInChanges: false
    useExistingAccountWithSameEmail: false
  globalPluginConfiguration:
    buildConfigListInterval: 300
    buildListInterval: 300
    configMapListInterval: 300
    enabled: true
    foldersEnabled: true
    imageStreamListInterval: 300
    namespace: "jenkins-operator-system"
    secretListInterval: 300
  location:
    adminAddress: "nobody@nowhere"
    url: "https://jenkins-netcicd-jenkins-operator-system.apps-crc.testing"
  mailer:
    charset: "UTF-8"
    useSsl: false
    useTls: false
  pollSCM:
    pollingThreadCount: 10
  prometheusConfiguration:
    defaultNamespace: "default"
    fetchTestResults: true
    jobAttributeName: "jenkins_job"
    path: "prometheus"
tool:
  git:
    installations:
      - home: "git"
        name: "Default"
